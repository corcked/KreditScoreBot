# –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã KreditScore Bot

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 17 –∏—é–ª—è 2025  
**–í–µ—Ä—Å–∏—è:** v1.0  
**–ê–Ω–∞–ª–∏—Ç–∏–∫:** Claude Code  

## –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

### üìä **–°—Ç–∞—Ç—É—Å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏: 65-70%**

–ü—Ä–æ–µ–∫—Ç –∏–º–µ–µ—Ç **–æ—Ç–ª–∏—á–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É** –∏ **—Å–æ–ª–∏–¥–Ω—É—é –æ—Å–Ω–æ–≤—É**. –û—Å–Ω–æ–≤–Ω—ã–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –∏ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ. –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º Python –∏ —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º SOLID.

## –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ** (95-100% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏)

#### 1. **Core –º–æ–¥—É–ª–∏** - 95% –≥–æ—Ç–æ–≤—ã
**–§–∞–π–ª—ã:** `src/core/pdn.py`, `src/core/scoring.py`, `src/core/referral.py`, `src/core/enums.py`

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ –†–∞—Å—á–µ—Ç –∞–Ω–Ω—É–∏—Ç–µ—Ç–Ω–æ–≥–æ –ø–ª–∞—Ç–µ–∂–∞ –ø–æ —Ñ–æ—Ä–º—É–ª–µ `A = P √ó [r(1+r)^n] / [(1+r)^n - 1]`
- ‚úÖ –†–∞—Å—á–µ—Ç –ü–î–ù –ø–æ —Ñ–æ—Ä–º—É–ª–µ `–ü–î–ù = (–û–±—â–∞—è —Å—É–º–º–∞ –ø–ª–∞—Ç–µ–∂–µ–π / –î–æ—Ö–æ–¥) √ó 100%`
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –ü–î–ù (üü¢ <35%, üü° ‚â§50%, üî¥ >50%)
- ‚úÖ –°–∫–æ—Ä–∏–Ω–≥ –ø–æ —Ñ–æ—Ä–º—É–ª–µ `CLAMP(600 + Œ£ –±–∞–ª–ª—ã, 300, 900)`
- ‚úÖ –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —Å–∫–æ—Ä–∏–Ω–≥–∞ —Å –≤–µ—Å–∞–º–∏ –¥–ª—è 11 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π deep-link
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫—Ä–µ–¥–∏—Ç–æ–≤
- ‚úÖ –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è (LoanType, PDNStatus, Region, etc.)

**–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞:** –û—Ç–ª–∏—á–Ω–æ–µ
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Decimal –¥–ª—è —Ç–æ—á–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
- Comprehensive error handling
- –•–æ—Ä–æ—à–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π
- –°–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º SOLID

#### 2. **–ú–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** - 100% –≥–æ—Ç–æ–≤—ã
**–§–∞–π–ª—ã:** `src/db/models.py`, `src/db/database.py`

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ –ü–æ–ª–Ω–∞—è —Å—Ö–µ–º–∞ –ë–î: User, PersonalData, LoanApplication, ReferralRegistration, BotState
- ‚úÖ –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ relationships –∏ foreign keys
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ constraints –∏ indexes
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞—Ä—Ö–∏–≤–∞—Ü–∏–∏ –∑–∞—è–≤–æ–∫ —á–µ—Ä–µ–∑ `is_archived`
- ‚úÖ Timestamps –¥–ª—è –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π
- ‚úÖ Enum –ø–æ–ª—è –¥–ª—è —Ç–∏–ø–∏–∑–∞—Ü–∏–∏
- ‚úÖ Alembic –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π

**–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞:** –û—Ç–ª–∏—á–Ω–æ–µ
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ SQLAlchemy
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã
- –ì—Ä–∞–º–æ—Ç–Ω–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

#### 3. **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞** - 90% –≥–æ—Ç–æ–≤–∞
**–§–∞–π–ª—ã:** `docker-compose.yml`, `requirements.txt`, `Dockerfile`, `railway.json`

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ Docker-compose —Å PostgreSQL –∏ Redis
- ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ requirements.txt
- ‚úÖ Railway –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –¥–µ–ø–ª–æ—è
- ‚úÖ Health checks –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### üü° **–ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ** (40-70% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏)

#### 4. **Telegram –±–æ—Ç** - 60% –≥–æ—Ç–æ–≤
**–§–∞–π–ª—ã:** `src/bot/handlers/onboarding.py`, `src/bot/states.py`, `src/bot/keyboards.py`

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ –û–Ω–±–æ—Ä–¥–∏–Ω–≥ —Å –ø–æ–ª—É—á–µ–Ω–∏–µ–º —Ç–µ–ª–µ—Ñ–æ–Ω–∞
- ‚úÖ –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤ /start
- ‚úÖ –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ö–µ–Ω–¥–ª–µ—Ä–æ–≤
- ‚úÖ FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è —á–∞—Å—Ç–∏—á–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

**–ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚ùå –ü–æ–ª–Ω—ã–µ —Ö–µ–Ω–¥–ª–µ—Ä—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–æ–∫
- ‚ùå Wizard –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚ùå –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ –±–∞–Ω–∫
- ‚ùå –ö–æ–º–∞–Ω–¥–∞ `/my_app` –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∑–∞—è–≤–∫–∏
- ‚ùå Cron-job —ç–º—É–ª—è—Ü–∏–∏ –±–∞–Ω–∫–∞

#### 5. **–¢–µ—Å—Ç—ã** - 30% –≥–æ—Ç–æ–≤—ã
**–§–∞–π–ª—ã:** `tests/unit/test_pdn.py`, `tests/unit/test_scoring.py`, `tests/unit/test_referral.py`

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–µ unit —Ç–µ—Å—Ç—ã –¥–ª—è –ü–î–ù –º–æ–¥—É–ª—è (18 —Ç–µ—Å—Ç–æ–≤)
- ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö edge cases –≤ PDNCalculator
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è integration –∏ e2e —Ç–µ—Å—Ç–æ–≤

**–ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚ùå –¢–µ—Å—Ç—ã –¥–ª—è scoring.py –∏ referral.py
- ‚ùå Integration —Ç–µ—Å—Ç—ã –¥–ª—è –±–æ—Ç–∞
- ‚ùå E2E —Ç–µ—Å—Ç—ã —Å pytest-telethon
- ‚ùå Load —Ç–µ—Å—Ç—ã —Å Locust

### ‚ùå **–ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ** (0-20% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏)

#### 6. **–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è** - 0% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
**–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è:** `src/bot/i18n/`

**–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç:**
- ‚ùå –§–∞–π–ª—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤ ru.po –∏ uz.po
- ‚ùå –ù–∞—Å—Ç—Ä–æ–π–∫–∞ gettext
- ‚ùå Middleware –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —è–∑—ã–∫–∞
- ‚ùå –§—É–Ω–∫—Ü–∏—è _() –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- ‚ùå Inline-–∫–Ω–æ–ø–∫–∏ —Å–º–µ–Ω—ã —è–∑—ã–∫–∞

#### 7. **API** - 20% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
**–§–∞–π–ª—ã:** `src/api/main.py`, `src/api/router.py`

**–ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ FastAPI
- ‚ùå –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚ùå Middleware –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚ùå –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

#### 8. **CI/CD** - 10% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
**–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è:** `.github/workflows/`

**–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç:**
- ‚ùå GitHub Actions workflow
- ‚ùå –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã –≤ CI
- ‚ùå –õ–∏–Ω—Ç–∏–Ω–≥ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚ùå –î–µ–ø–ª–æ–π –Ω–∞ Railway
- ‚ùå –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (Bandit, Semgrep)

## –ö–∞—á–µ—Å—Ç–≤–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### üéØ **–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
1. **–û—Ç–ª–∏—á–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞** - —á–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Å–ª–æ–∏
2. **–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö** - –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è
3. **–ù–∞–¥–µ–∂–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Decimal
4. **–•–æ—Ä–æ—à–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Enum –∏ type hints
5. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥** - docstrings –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
6. **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** - –º–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
7. **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É** - Docker, Railway, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### ‚ö†Ô∏è **–û–±–ª–∞—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è:**
1. **–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è** - –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è UZ —Ä—ã–Ω–∫–∞
2. **–ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏** - –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏
3. **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ UI** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –º–µ—Ç—Ä–∏–∫–∏ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
5. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - rate limiting, –≤–∞–ª–∏–¥–∞—Ü–∏—è

## –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –±–∏–∑–Ω–µ—Å-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º

### ‚úÖ **–í—ã–ø–æ–ª–Ω–µ–Ω–æ:**
- –†–∞—Å—á–µ—Ç –ü–î–ù –ø–æ —É–∑–±–µ–∫—Å–∫–∏–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º (–ª–∏–º–∏—Ç 50%)
- –°–∫–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –≤–µ—Å–∞–º–∏
- –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ (+20 –±–∞–ª–ª–æ–≤)
- –¢–∏–ø—ã –∫—Ä–µ–¥–∏—Ç–æ–≤: –∞–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç –∏ –º–∏–∫—Ä–æ–∑–∞–π–º
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ª–∏–º–∏—Ç–æ–≤ –∏ —Å—Ç–∞–≤–æ–∫
- –ê—Ä—Ö–∏–≤–∞—Ü–∏—è –∑–∞—è–≤–æ–∫ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–π

### ‚ùå **–¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏:**
- –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ —É–∑–±–µ–∫—Å–∫–∏–π —è–∑—ã–∫
- –ü–æ–ª–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –≠–º—É–ª—è—Ü–∏—è –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤
- –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –≤ –±–æ—Ç–µ

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### üöÄ **–ü–µ—Ä–≤–æ–æ—á–µ—Ä–µ–¥–Ω—ã–µ –∑–∞–¥–∞—á–∏:**
1. –ó–∞–≤–µ—Ä—à–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é Telegram —Ö–µ–Ω–¥–ª–µ—Ä–æ–≤
2. –°–æ–∑–¥–∞—Ç—å –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é RU/UZ
3. –ù–∞–ø–∏—Å–∞—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ —Ç–µ—Å—Ç—ã
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD pipeline

### üìà **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å rate limiting
3. –ü—Ä–æ–≤–µ—Å—Ç–∏ security audit
4. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

---

# –ü–ª–∞–Ω —Ä–∞–±–æ—Ç—ã –ø–æ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–º –∑–∞–¥–∞—á–∞–º

## –§–∞–∑–∞ 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (1-2 –Ω–µ–¥–µ–ª–∏)

### 1.1 –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ Telegram —Ö–µ–Ω–¥–ª–µ—Ä–æ–≤
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–í—Ä–µ–º—è:** 1 –Ω–µ–¥–µ–ª—è

#### –ó–∞–¥–∞—á–∏:
- [ ] **–•–µ–Ω–¥–ª–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–æ–∫** (`src/bot/handlers/loan.py`)
  - FSM –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ç–∏–ø–∞ –∫—Ä–µ–¥–∏—Ç–∞
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
  - –†–∞—Å—á–µ—Ç –ü–î–ù –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
  - –ö–æ–º–∞–Ω–¥–∞ `/my_app` –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∑–∞—è–≤–∫–∏
  
- [ ] **–•–µ–Ω–¥–ª–µ—Ä –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö** (`src/bot/handlers/personal_data.py`)
  - Wizard-—Ñ–æ—Ä–º–∞ —Å inline –∫–Ω–æ–ø–∫–∞–º–∏
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∫–æ—Ä–∏–Ω–≥–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
  - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è
  
- [ ] **–•–µ–Ω–¥–ª–µ—Ä –±–∞–Ω–∫–æ–≤—Å–∫–æ–≥–æ —Ñ–ª–æ—É** (`src/bot/handlers/bank_flow.py`)
  - –ö–Ω–æ–ø–∫–∞ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ –±–∞–Ω–∫"
  - Cron-job —ç–º—É–ª—è—Ü–∏–∏ –æ—Ç–≤–µ—Ç–∞ (–∫–∞–∂–¥—ã–µ 10 –º–∏–Ω)
  - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ –∑–∞—è–≤–∫–∏

#### –§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
```
src/bot/handlers/loan.py          # –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–æ–∫
src/bot/handlers/personal_data.py # –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ  
src/bot/handlers/bank_flow.py     # –ë–∞–Ω–∫–æ–≤—Å–∫–∏–π —Ñ–ª–æ—É
src/bot/states.py                 # FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è
src/bot/keyboards.py              # Inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
```

### 1.2 –°–∏—Å—Ç–µ–º–∞ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–í—Ä–µ–º—è:** 3-4 –¥–Ω—è

#### –ó–∞–¥–∞—á–∏:
- [ ] **–°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –ø–µ—Ä–µ–≤–æ–¥–æ–≤**
  - `src/bot/i18n/ru.po` - —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫
  - `src/bot/i18n/uz.po` - —É–∑–±–µ–∫—Å–∫–∏–π (–ª–∞—Ç–∏–Ω–∏—Ü–∞)
  - –ü–µ—Ä–µ–≤–æ–¥ –≤—Å–µ—Ö —Ç–µ–∫—Å—Ç–æ–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
  
- [ ] **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏—Å—Ç–µ–º—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤**
  - Middleware –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —è–∑—ã–∫–∞
  - –§—É–Ω–∫—Ü–∏—è `_()` –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤
  - Inline –∫–Ω–æ–ø–∫–∏ —Å–º–µ–Ω—ã —è–∑—ã–∫–∞
  
- [ ] **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ö–µ–Ω–¥–ª–µ—Ä–∞–º–∏**
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
  - –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–º–µ–Ω—ã —è–∑—ã–∫–∞ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç

#### –§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è:
```
src/bot/i18n/ru.po               # –†—É—Å—Å–∫–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã
src/bot/i18n/uz.po               # –£–∑–±–µ–∫—Å–∫–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã
src/bot/middleware/i18n.py       # Middleware –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
src/bot/utils/i18n.py            # –£—Ç–∏–ª–∏—Ç—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤
```

## –§–∞–∑–∞ 2: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∫–∞—á–µ—Å—Ç–≤–æ (1 –Ω–µ–¥–µ–ª—è)

### 2.1 –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ unit —Ç–µ—Å—Ç–æ–≤
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π  
**–í—Ä–µ–º—è:** 2-3 –¥–Ω—è

#### –ó–∞–¥–∞—á–∏:
- [ ] **–¢–µ—Å—Ç—ã –¥–ª—è scoring.py**
  - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –≤–µ—Å–æ–≤ —Å–∫–æ—Ä–∏–Ω–≥–∞
  - –ì—Ä–∞–Ω–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (300-900)
  - Breakdown —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
  
- [ ] **–¢–µ—Å—Ç—ã –¥–ª—è referral.py**
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–¥–æ–≤
  - –ü–∞—Ä—Å–∏–Ω–≥ deep-link
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
  
- [ ] **–¢–µ—Å—Ç—ã –¥–ª—è –Ω–æ–≤—ã—Ö —Ö–µ–Ω–¥–ª–µ—Ä–æ–≤**
  - FSM –ø–µ—Ä–µ—Ö–æ–¥—ã
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ë–î

#### –§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è:
```
tests/unit/test_scoring.py        # –¢–µ—Å—Ç—ã —Å–∫–æ—Ä–∏–Ω–≥–∞
tests/unit/test_referral.py       # –¢–µ—Å—Ç—ã —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤
tests/unit/test_handlers.py       # –¢–µ—Å—Ç—ã —Ö–µ–Ω–¥–ª–µ—Ä–æ–≤
```

### 2.2 Integration —Ç–µ—Å—Ç—ã
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π  
**–í—Ä–µ–º—è:** 2-3 –¥–Ω—è

#### –ó–∞–¥–∞—á–∏:
- [ ] **–¢–µ—Å—Ç—ã –±–æ—Ç–∞**
  - –ü–æ–ª–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ FSM –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å –ë–î
  
- [ ] **–¢–µ—Å—Ç—ã API**
  - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
  - –í–∞–ª–∏–¥–∞—Ü–∏—è responses
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

#### –§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è:
```
tests/integration/test_bot_flows.py    # –¢–µ—Å—Ç—ã —Ñ–ª–æ—É –±–æ—Ç–∞
tests/integration/test_api.py          # –¢–µ—Å—Ç—ã API
tests/integration/test_models.py       # –¢–µ—Å—Ç—ã –º–æ–¥–µ–ª–µ–π
```

## –§–∞–∑–∞ 3: CI/CD –∏ –¥–µ–ø–ª–æ–π (3-4 –¥–Ω—è)

### 3.1 GitHub Actions
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π  
**–í—Ä–µ–º—è:** 2 –¥–Ω—è

#### –ó–∞–¥–∞—á–∏:
- [ ] **–°–æ–∑–¥–∞–Ω–∏–µ CI –ø–∞–π–ø–ª–∞–π–Ω–∞**
  - –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ (pytest)
  - –õ–∏–Ω—Ç–∏–Ω–≥ (flake8, black)
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ (mypy)
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (bandit)
  
- [ ] **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–µ–ø–ª–æ—è**
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ Railway
  - –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
  - –ü—Ä–æ–≥—Ä–µ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

#### –§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è:
```
.github/workflows/ci.yml          # CI –ø–∞–π–ø–ª–∞–π–Ω
.github/workflows/deploy.yml      # –î–µ–ø–ª–æ–π workflow
```

### 3.2 –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ù–∏–∑–∫–∏–π  
**–í—Ä–µ–º—è:** 1-2 –¥–Ω—è

#### –ó–∞–¥–∞—á–∏:
- [ ] **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è**
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
  - –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤
  - –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
  
- [ ] **–ú–µ—Ç—Ä–∏–∫–∏ Prometheus**
  - –°—á–µ—Ç—á–∏–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
  - –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞
  - –û—à–∏–±–∫–∏ —Å–∏—Å—Ç–µ–º—ã

#### –§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è:
```
src/config/logging.yaml           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ª–æ–≥–æ–≤
src/monitoring/metrics.py         # Prometheus –º–µ—Ç—Ä–∏–∫–∏
```

## –§–∞–∑–∞ 4: –£–ª—É—á—à–µ–Ω–∏—è –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (–ø–æ –∂–µ–ª–∞–Ω–∏—é)

### 4.1 E2E —Ç–µ—Å—Ç—ã
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ù–∏–∑–∫–∏–π  
**–í—Ä–µ–º—è:** 2-3 –¥–Ω—è

#### –ó–∞–¥–∞—á–∏:
- [ ] **–¢–µ—Å—Ç—ã Telegram —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤**
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ pytest-telethon
  - –ü–æ–ª–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
  - –°–∫—Ä–∏–Ω—à–æ—Ç —Ç–µ—Å—Ç—ã –¥–ª—è –¥–≤—É—Ö —è–∑—ã–∫–æ–≤

#### –§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è:
```
tests/e2e/test_telegram_scenarios.py  # E2E —Ç–µ—Å—Ç—ã
tests/e2e/conftest.py                 # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ E2E
```

### 4.2 –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ù–∏–∑–∫–∏–π  
**–í—Ä–µ–º—è:** 1-2 –¥–Ω—è

#### –ó–∞–¥–∞—á–∏:
- [ ] **Rate limiting**
  - Middleware –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
  - –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞
  - Blacklist –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  
- [ ] **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**
  - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î
  - –°–∂–∞—Ç–∏–µ –æ—Ç–≤–µ—Ç–æ–≤

#### –§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è:
```
src/bot/middleware/rate_limit.py     # Rate limiting
src/core/cache.py                    # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
```

## –ò—Ç–æ–≥–æ–≤—ã–π –ø–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### **–ù–µ–¥–µ–ª—è 1: –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**
- –î–µ–Ω—å 1-2: –•–µ–Ω–¥–ª–µ—Ä—ã –∑–∞—è–≤–æ–∫ –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –î–µ–Ω—å 3-4: –ë–∞–Ω–∫–æ–≤—Å–∫–∏–π —Ñ–ª–æ—É –∏ cron-job
- –î–µ–Ω—å 5-7: –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è RU/UZ

### **–ù–µ–¥–µ–ª—è 2: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
- –î–µ–Ω—å 1-3: Unit —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
- –î–µ–Ω—å 4-5: Integration —Ç–µ—Å—Ç—ã
- –î–µ–Ω—å 6-7: CI/CD –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### **–ù–µ–¥–µ–ª—è 3: –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è**
- –î–µ–Ω—å 1-2: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –î–µ–Ω—å 3-4: E2E —Ç–µ—Å—Ç—ã
- –î–µ–Ω—å 5-7: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

### **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π MVP:**
- [ ] –í—Å–µ —Ö–µ–Ω–¥–ª–µ—Ä—ã Telegram –±–æ—Ç–∞ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è RU/UZ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç
- [ ] Unit —Ç–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç >90% –∫–æ–¥–∞
- [ ] CI/CD –ø–∞–π–ø–ª–∞–π–Ω –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –¥–µ–ø–ª–æ–∏—Ç—Å—è

### **–ü—Ä–æ–¥–∞–∫—à–µ–Ω ready:**
- [ ] Integration —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
- [ ] –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

---

**–ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 2-3 –Ω–µ–¥–µ–ª–∏ –¥–ª—è MVP, 3-4 –Ω–µ–¥–µ–ª–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞.